{"version":3,"sources":["components/PhoneNumberList.js","components/Filter.js","components/PersonForm.js","services/phoneList.js","components/Notification.js","App.js","index.js"],"names":["PhoneNumberList","persons","onClick","map","person","name","number","id","Filter","value","onChange","PersonForm","type","baseUrl","axios","get","then","response","data","newObject","post","catch","error","console","log","removedObject","request","delete","put","Notification","isGood","message","status","color","style","background","fontSize","borderStyle","borderRadius","padding","marginBottom","width","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","filter","setFilter","text","setMessage","useEffect","phoneList","initialPhoneList","handleNotification","setTimeout","handleUpdate","changedPerson","res","usefulErrorMsg","personsToShow","toLowerCase","includes","e","target","preventDefault","foundPerson","find","window","confirm","newContact","concat","removedPerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f814b3bb.chunk.js","sourcesContent":["import React from \"react\";\n\nconst PhoneNumberList = ({ persons, onClick }) => {\n\t\n\treturn persons.map((person) => (\n\t\t<div key={person.id}>\n\t\t\t{person.name} {person.number} <button onClick={()=>onClick(person.id)}>delete</button>\n\t\t</div>\n\t));\n};\n\nexport default PhoneNumberList;\n","import React from \"react\";\n\nconst Filter = ({ value, onChange }) => {\n\treturn (\n\t\t<div>\n\t\t\tfilter shown with <input value={value} onChange={onChange} />\n\t\t</div>\n\t);\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst PersonForm = ({ type, value, onChange }) => {\n\treturn (\n\t\t<div>\n\t\t\t{type}: <input value={value} onChange={onChange} />\n\t\t</div>\n\t);\n};\n\nexport default PersonForm;\n","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () =>{\n    return axios.get(baseUrl).then(response=> response.data)\n}\n\nconst create =(newObject)=>{\n    const request = axios.post(baseUrl,newObject)\n    return request.then(response=> response.data).catch(error=>{\n        console.log(error.response.data)\n        return error.response.data\n    })\n}\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data).catch(error=>{\n        console.log(error.response.data)\n        return error.response.data\n    })\n  }\n\nconst remove = (id, removedObject)=>{\n    const request = axios.delete(`${baseUrl}/${id}`, {removedObject})\n    console.log(`${baseUrl}/${id}`)\n    return request.then(response=>(response))\n}\n\nexport default {getAll,create,remove, update}","import React from \"react\";\n\nconst Notification = ({isGood, message})=>{\n    if (message === null) {\n        return null\n    }\n\n    const commonStyle = {\n        background: 'lightgrey',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 1,\n        padding: 10,\n        marginBottom: 10,\n        width:'max-content',\n    }\n    const error = {\n        color: 'red',\n    }\n    const success = {\n        color: 'green',\n    }\n\n    let status = isGood? success: error\n\n    return (\n        <div style={{...commonStyle,...status}}>\n        {message}\n        </div>\n    )\n}\nexport default Notification","import React, { useEffect, useState } from 'react'\nimport PhoneNumberList from './components/PhoneNumberList'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport phoneList from './services/phoneList'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([]) \n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [message, setMessage] = useState({text:null,isGood:true})\n\n  useEffect(()=>{\n    phoneList\n      .getAll()\n      .then(initialPhoneList=>{\n        setPersons(initialPhoneList)\n      })\n  },[])\n  \n  const handleNewNameChange = (e) =>{\n    setNewName(e.target.value)\n  }\n\n  const handleSubmit=(e)=>{\n    e.preventDefault()\n    const foundPerson = persons.find(person=>(person.name === newName))\n    \n    if(foundPerson && window.confirm('This person already exists, would you like to update their number?')){\n        console.log(foundPerson)\n        handleUpdate(foundPerson)\n        \n    }else{\n      const newPerson = {\n        name: newName,\n        number: newNumber,\n      }\n      phoneList.create(newPerson).then(res=>{\n        if(res.usefulErrorMsg){\n          handleNotification(false, res.usefulErrorMsg)\n        }else{\n          let newContact = res\n          console.log(newContact)\n          // Set state here so that Persons is rendered with id\n          setPersons(persons.concat(newContact))\n          handleNotification(true,`Added ${newContact.name}`)\n        }\n      })\n    }\n    \n  }\n\n  const handleNotification = (isGood, text)=>{\n    setMessage({isGood: isGood, text: text})\n      setTimeout(() => {\n        setMessage({isGood:null,text:null})\n      }, 5000)\n  }\n\n  const handleUpdate = (person) =>{\n    const changedPerson = {...person, number: newNumber }\n    console.log('here')\n    phoneList\n      .update(person.id, changedPerson)\n      .then((res)=>{\n        if(res.usefulErrorMsg){\n          handleNotification(false,res.usefulErrorMsg)\n        }else{\n          setPersons(persons.map(person=> (person.id === changedPerson.id? changedPerson: person)))\n          handleNotification(true,`Changed ${person.name}`)\n        }\n      })\n  }\n\n  const handleNewNumberChange = (e)=>{\n    setNewNumber(e.target.value)\n  }\n\n  const personsToShow = (filter==='')? persons : persons.filter(person=>person.name.toLowerCase().includes(filter.toLowerCase()))\n\n  const handleFilterChange = (e)=>{\n    setFilter(e.target.value)\n  }\n\n  const removePhoneNumber = (id)=>{\n    const removedPerson = persons.filter(person=>person.id === id)[0]\n    if(window.confirm(`Are you sure you want to delete ${removedPerson.name}`)){\n      phoneList.remove(id,removedPerson)\n        .then(()=>{\n          setPersons(persons.filter(person => person.id !== removedPerson.id))\n        })\n        .catch(()=>{\n          handleNotification(false,`${removedPerson.name} has already been removed from server`)\n          setPersons(persons.filter(person => person.id !== removedPerson.id))\n        })\n    }\n\t}\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification isGood={message.isGood} message={message.text} />\n        <Filter value={filter} onChange= {handleFilterChange}/>\n      <form>\n      <h2>Add a new</h2>\n      <PersonForm type='name' value={newName} onChange = {handleNewNameChange}/>\n      <PersonForm type='number' value={newNumber} onChange = {handleNewNumberChange}/>\n\n        <div>\n          <button type=\"submit\" onClick = {handleSubmit}>add</button>\n        </div>\n      </form>\n      <h2>Numbers</h2>\n      <PhoneNumberList persons={personsToShow} onClick={removePhoneNumber}/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom'\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}